var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var c=0;return function(){return c<d.length?{done:!1,value:d[c++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.makeIterator=function(d){var c="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return c?c.call(d):$jscomp.arrayIterator(d)};$jscomp.arrayFromIterator=function(d){for(var c,e=[];!(c=d.next()).done;)e.push(c.value);return e};
$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,e){d!=Array.prototype&&d!=Object.prototype&&(d[c]=e.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,c,e,f){if(c){e=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var k=d[f];k in e||(e[k]={});e=e[k]}d=d[d.length-1];f=e[d];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Object.is",function(d){return d?d:function(c,e){return c===e?0!==c||1/c===1/e:c!==c&&e!==e}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(d){return d?d:function(c,e){var f=this;f instanceof String&&(f=String(f));var d=f.length,b=e||0;for(0>b&&(b=Math.max(b+d,0));b<d;b++){var a=f[b];if(a===c||Object.is(a,c))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(d,c,e){if(null==d)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return d+""};$jscomp.polyfill("String.prototype.includes",function(d){return d?d:function(c,e){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,e||0)}},"es6","es3");
$jscomp.findInternal=function(d,c,e){d instanceof String&&(d=String(d));for(var f=d.length,k=0;k<f;k++){var b=d[k];if(c.call(e,b,k,d))return{i:k,v:b}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(c,e){return $jscomp.findInternal(this,c,e).v}},"es6","es3");
(function(){(function(){Array.prototype.map||(Array.prototype.map=function(d,c){var e,f;if(null==this)throw new TypeError(" this is null or not defined");var k=Object(this),b=k.length>>>0;if("function"!==typeof d)throw new TypeError(d+" is not a function");1<arguments.length&&(e=c);var a=Array(b);for(f=0;f<b;){if(f in k){var g=k[f];g=d.call(e,g,f,k);a[f]=g}f++}return a})})("Array.prototype.map polyfill");(function(){Array.prototype.filter||(Array.prototype.filter=function(d,c){if("Function"!==typeof d&&
"function"!==typeof d||!this)throw new TypeError;var e=this.length>>>0,f=Array(e),k=0,b=-1;if(void 0===c)for(;++b!==e;)b in this&&d(this[b],b,this)&&(f[k++]=this[b]);else for(;++b!==e;)b in this&&d.call(c,this[b],b,this)&&(f[k++]=this[b]);f.length=k;return f})})("Array.prototype.filter polyfill");(function(){Object.keys||(Object.keys=function(){var d=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
f=e.length;return function(k){if("function"!==typeof k&&("object"!==typeof k||null===k))throw new TypeError("Object.keys called on non-object");var b=[],a;for(a in k)d.call(k,a)&&b.push(a);if(c)for(a=0;a<f;a++)d.call(k,e[a])&&b.push(e[a]);return b}}())})("Object.keys polyfill");(function(){Array.prototype.forEach||(Array.prototype.forEach=function(d,c){var e,f;if(null===this)throw new TypeError(" this is null or not defined");var k=Object(this),b=k.length>>>0;if("function"!==typeof d)throw new TypeError(d+
" is not a function");1<arguments.length&&(e=c);for(f=0;f<b;){if(f in k){var a=k[f];d.call(e,a,f,k)}f++}})})("Array.forEach polyfill");(function(){Object.assign||(Object.assign=function(d,c){if(null==d)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(d),f=1;f<arguments.length;f++){var k=arguments[f];if(null!=k)for(var b in k)Object.prototype.hasOwnProperty.call(k,b)&&(e[b]=k[b])}return e})})("Object.assign polyfill");(function(){Array.prototype.reduce||(Array.prototype.reduce=
function(d){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof d)throw new TypeError(d+" is not a function");var c=Object(this),e=c.length>>>0,f=0;if(2<=arguments.length)var k=arguments[1];else{for(;f<e&&!(f in c);)f++;if(f>=e)throw new TypeError("Reduce of empty array with no initial value");k=c[f++]}for(;f<e;)f in c&&(k=d(k,c[f],f,c)),f++;return k})})("Array.prototype.reduce polyfill");(function(){Array.prototype.indexOf||(Array.prototype.indexOf=
function(d,c){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),f=e.length>>>0;if(0===f)return-1;var k=c|0;if(k>=f)return-1;for(k=Math.max(0<=k?k:f-Math.abs(k),0);k<f;k++)if(k in e&&e[k]===d)return k;return-1})})("Array.prototype.indexOf polyfill");(function(){Function.prototype.bind||(Function.prototype.bind=function(d){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,
1),e=this,f=function(){},k=function(){return e.apply(this instanceof f?this:d,c.concat(Array.prototype.slice.call(arguments)))};this.prototype&&(f.prototype=this.prototype);k.prototype=new f;return k})})("Function.prototype.bind polyfill")})("polyfills");
(function(d){var c=!1;if("function"==typeof define&&define.amd&&(define(d),c=!0),"object"==typeof exports&&(module.exports=d(),c=!0),!c){var e=window.Cookies,f=window.Cookies=d();f.noConflict=function(){return window.Cookies=e,f}}})(function(){function d(){for(var c=0,e={};c<arguments.length;c++){var f=arguments[c],d;for(d in f)e[d]=f[d]}return e}return function f(e){function k(b,a,g){if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(g=d({path:"/"},k.defaults,g)).expires){var h=
new Date;h.setMilliseconds(h.getMilliseconds()+864E5*g.expires);g.expires=h}g.expires=g.expires?g.expires.toUTCString():"";try{var l=JSON.stringify(a);/^[\{\[]/.test(l)&&(a=l)}catch(t){}a=e.write?e.write(a,b):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);b=(b=(b=encodeURIComponent(String(b))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);l="";for(var f in g)g[f]&&(l+="; "+f,!0!==g[f]&&(l+="="+
g[f]));return document.cookie=b+"="+a+l}b||(l={});f=document.cookie?document.cookie.split("; "):[];for(var n=/(%[0-9A-Z]{2})+/g,m=0;m<f.length;m++){var p=f[m].split("="),r=p.slice(1).join("=");this.json||'"'!==r.charAt(0)||(r=r.slice(1,-1));try{h=p[0].replace(n,decodeURIComponent);if(r=e.read?e.read(r,h):e(r,h)||r.replace(n,decodeURIComponent),this.json)try{r=JSON.parse(r)}catch(t){}if(b===h){l=r;break}b||(l[h]=r)}catch(t){}}return l}}return(k.set=k).get=function(b){return k.call(k,b)},k.getJSON=
function(){return k.apply({json:!0},[].slice.call(arguments))},k.defaults={},k.remove=function(b,a){k(b,"",d(a,{expires:-1}))},k.withConverter=f,k}(function(){})});var GNBCookies=Cookies.noConflict();function getTPALastLoginPlatform(d){d=void 0===d?0:d;var c="true"===GNBCookies.get("isCafe");d=String(d);c&&typeof sessionStorage&&GNBCookies.set("NXLATC",null,{expires:0,domain:".nexon.com"});return{0:"nexon",1:"meta",2:"google",3:"naver",4:"apple"}[d]||"nexon"}
(function(d,c){this[d]=c()})("$script",function(){function d(a,g){for(var h=0,b=a.length;h<b;++h)if(!g(a[h]))return!1;return 1}function c(a,g){d(a,function(a){g(a);return 1})}function e(b,q,k,r){function n(g){return g.call?g():a[g]}function m(){if(!--w){a[x]=1;v&&v();for(var h in g)d(h.split("|"),n)&&!c(g[h],n)&&(g[h]=[])}}b=b.push?b:[b];var p=q&&q.call,v=p?q:k,x=p?b.join(""):q,w=b.length;setTimeout(function(){c(b,function y(a,g){if(null===a)return m();g||/^https?:\/\//.test(a)||!l||(a=-1===a.indexOf(".js")?
l+a+".js":l+a);if(h[a])return 2==h[a]?m():setTimeout(function(){y(a,!0)},0);h[a]=1;f(a,m,r)})},0);return e}function f(a,g,c){var l=k.createElement("script"),e;l.onload=l.onerror=l.onreadystatechange=function(){l.readyState&&!/^c|loade/.test(l.readyState)||e||(l.onload=l.onreadystatechange=null,e=1,h[a]=2,g())};l.async=1;l.src=q?a+(-1===a.indexOf("?")?"?":"&")+q:a;if(c)for(var f in c)l.setAttribute(f,c[f]);b.insertBefore(l,b.lastChild)}var k=document,b=k.getElementsByTagName("head")[0],a={},g={},h=
{},l,q;e.get=f;e.order=function(a,g,h){(function u(b){b=a.shift();a.length?e(b,u):e(b,g,h)})()};e.path=function(a){l=a};e.urlArgs=function(a){q=a};e.ready=function(h,b,l){h=h.push?h:[h];var f=[];!c(h,function(g){a[g]||f.push(g)})&&d(h,function(g){return a[g]})?b():function(a){g[a]=g[a]||[];g[a].push(b);l&&l(f)}(h.join("|"));return e};e.done=function(a){e([null],a)};e.attributes=function(a){attributes=a};return e});
(function(d,c){this[d]=c()})("Helper",function(){var d={appendStylesheet:function(c){var e=document.createElement("link");e.rel="stylesheet";e.type="text/css";e.href=c;document.getElementsByTagName("head")[0].appendChild(e)},appendScript:function(c){var e=document.createElement("script");e.src=c;document.body.appendChild(e)},getContext:function(c){var e=window;c=c.split(".");for(var f=0;f<c.length;f++){var d=c[f];e[d]||(e[d]={});e=e[d]}return e},isIE:function(){var c=navigator.userAgent.toLowerCase();
return-1!=c.indexOf("msie")?parseInt(c.split("msie")[1]):!1},getUnicodeCookie:function(c){c+="=";var e=document.cookie,f=e.indexOf(c),d="";-1!=f&&(f+=c.length,c=e.indexOf(";",f),-1==c&&(c=e.length),d=e.substring(f,c));return d},getAuthPageURL:function(){var c=location.hostname;return"df.nexon.com"===c||"dflogin.nexon.com"===c?"dflogin.nexon.com":"login.nexon.com"},getAuthTestPageURL:function(){var c=location.hostname;return"df.nexon.com"===c||"dflogin.nexon.com"===c?"dflogin.nexon.com":"login-test.nexon.com"},
getLogoutPageURL:function(){return"http://"+d.getAuthPageURL()+"/login/page/logout.aspx?redirect="+escape(location.href)},getLogoutTestPageURL:function(){return"http://"+d.getAuthTestPageURL()+"/login/page/logout.aspx?redirect="+escape(location.href)},isLoggedIn:function(){var c=GNBCookies.get("ENC"),e=GNBCookies.get("NPP");return"1"===GNBCookies.get("IL")&&c&&c.length&&e&&e.length},getMemberSN:function(){var c=0,e=GNBCookies.get("NXCH")?GNBCookies.get("NXCH"):d.getUnicodeCookie("NXCH");e&&(c=e.split("&").filter(function(c){return-1<
c.indexOf("OID")})[0].split("=")[1]);return c},isOldMember:function(){return"0"===GNBCookies.get("IM")},getDateFromISO:function(c){if(d.isIE()&&9>=d.isIE()){c=c.split("T")[0].split("-");for(var e=0,f=c.length;e<f;e++)c[e]=parseInt(c[e]);--c[1];c=new Date(c[0],c[1],c[2]);return c.getDate()?c:NaN}return new Date(c)},hasPcbangCookie:function(){return GNBCookies.get("isCafe")},getWindowFunction:function(c){if(c&&c.length&&$nq.isArray(c)){var e=window;try{for(var f=0,d=c.length-1;f<d;f++)e=e[c[f]];var b=
e[c[c.length-1]];if("function"===typeof b)return b}catch(a){}}return null},openCouponBox:function(c){return window.open(c,"nexonCommonCouponPopup","menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=530,height=831,left="+(document.body.offsetWidth/2-265+window.screenLeft)+",top="+(415.5>document.body.offsetHeight/2?document.body.offsetHeight/2:document.body.offsetHeight/2-415.5))}};return d});
(function(d,c){this[d]=c()})("SessionStorage",function(){var d={set:function(c,e,f,k){f&&(e.expireDate=d.date_add(new Date,"minute",k));sessionStorage.setItem(c,JSON.stringify(e))},get:function(c,e){return null!=sessionStorage.getItem(c)?e?new Date(JSON.parse(sessionStorage.getItem(c)).expireDate)>=new Date?JSON.parse(sessionStorage.getItem(c)):null:JSON.parse(sessionStorage.getItem(c)):null},remove:function(c){sessionStorage.removeItem(c)},clear:function(){sessionStorage.clear()},check:function(c){return null!=
sessionStorage.getItem(c)?new Date(JSON.parse(sessionStorage.getItem(c)).expireDate)>=new Date:!1},date_add:function(c,e,f){var d=new Date(c),b=function(){d.getDate()!=c.getDate()&&d.setDate(0)};switch(e.toLowerCase()){case "year":d.setFullYear(d.getFullYear()+f);b();break;case "quarter":d.setMonth(d.getMonth()+3*f);b();break;case "month":d.setMonth(d.getMonth()+f);b();break;case "week":d.setDate(d.getDate()+7*f);break;case "day":d.setDate(d.getDate()+f);break;case "hour":d.setTime(d.getTime()+36E5*
f);break;case "minute":d.setTime(d.getTime()+6E4*f);break;case "second":d.setTime(d.getTime()+1E3*f);break;default:d=void 0}return d}};return d});
(function(d,c){this[d]=c()})("A2SLogger",function(){function d(c,e,d,k){var b=window.Gnb.options.gameCode;c='{"Name":"'+c+'",';e&&e.length&&(c+='"Type":"'+e+'",');d&&(c+='"Value":"'+d+'",');k&&(c+='"GameCode":"'+k+'",');return c+('"PageCode":"'+b+'"}')}return{sendClickLog:function(c,e,f,k){c=d(c,e,f,k);$h.a2s.sendClickLog("P_GNB",c)},sendContentsLog:function(c,e,f,k){c=d(c,e,f,k);$h.a2s.sendContentsLog("P_GNB",c)}}});
var wrapperElement,protocol="file:"===document.location.protocol?"http:":document.location.protocol,GulpReplacementPlaceholder={RESOURCE:"rs.nxfs.nexon.com",GNBAPI:"gnbapi.nexon.com",MYAPI:"myapi.nexon.com",HOME:"https://www.nexon.com",PRIME:"https://prime.nexon.com",COUPON:"https://box.coupon.nexon.com",LOGIN:"https://nxlogin.nexon.com",LOGIN_TEST:"https://nxlogin-test.nexon.com",PLUG:"https://nexonplug.nexon.com",GTM_QVALUES:"&gtm_auth=opxbH85cveE6aAHmANIUHQ&gtm_preview=env-2&gtm_cookies_win=x",
PAYMENT:"https://payment.nexon.com/",NOTICE:"https://notice.nexon.com/",SECURITY:"https://security.nexon.com/"};
(function(d,c){this[d]=c()})("Gnb",function(){document.addEventListener("DOMContentLoaded",function(){try{var c=[];document.cookie.split(";").map(function(c){return c.split("=").shift()}).filter(function(e){return/^airbridge_.+/.test(e.trim())&&!c.includes(e.trim())}).forEach(function(c){return GNBCookies.remove(c.trim(),{domain:".nexon.com"})})}catch(f){console.warn("cannot remove airbridge cookies without nexon common domain.")}if(!window.newNxrefreshHash){var e=0;setInterval(function(){var c=Helper.getUnicodeCookie("NPP"),
d="UNDEFINED";c&&(c=String(c).split(":")[2],/[0-9]+/.test(c)&&(d=c));try{var b=window.Gnb.Components.Storage.barData.data.userinfo.memberSN,a=String(b);"UNDEFINED"!==d&&a!==d?(e++,3<=e&&"undefined"!==typeof sessionStorage&&!sessionStorage.getItem("gnbRefreshBeAfter")&&(sessionStorage.setItem("gnbRefreshBeAfter",String(+new Date)),window.location.reload())):(e=0,"undefined"!==typeof sessionStorage&&sessionStorage.removeItem("gnbRefreshBeAfter"));"UNDEFINED"===d&&"undefined"!==typeof b&&0<b&&(sessionStorage.setItem("gnbRefreshBeAfter",
String(+new Date)),window.location.reload())}catch(g){}},1E3)}});var d={options:{}};d.domain={resource:protocol+"//"+GulpReplacementPlaceholder.RESOURCE,gnbapi:protocol+"//"+GulpReplacementPlaceholder.GNBAPI,home:""+GulpReplacementPlaceholder.HOME,myapi:protocol+"//"+GulpReplacementPlaceholder.MYAPI,prime:""+GulpReplacementPlaceholder.PRIME,coupon:""+GulpReplacementPlaceholder.COUPON,login:""+GulpReplacementPlaceholder.LOGIN,login_test:""+GulpReplacementPlaceholder.LOGIN_TEST,plug:""+GulpReplacementPlaceholder.PLUG,
payment:""+GulpReplacementPlaceholder.PAYMENT,notice:""+GulpReplacementPlaceholder.NOTICE,security:""+GulpReplacementPlaceholder.SECURITY};d.parseOption=function(){var c=document.getElementsByTagName("script");c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())if(e=e.value,-1<e.src.indexOf("gnb.min.js")){var f=e;break}c=65533;e=!1;var k=!0,b="",a="",g=1064,h="",l="",q="";if(f){try{var n=f.getAttribute("data-gamecode")||"65533";c=parseInt(n)}catch(p){c=65533}e="true"===(f.getAttribute("data-ispublicbanner")||
"false").toLowerCase();k="true"===(f.getAttribute("data-showpcbangmenu")||"true").toLowerCase();b=f.getAttribute("data-skiptocontentsid");try{var m=f.getAttribute("data-minWidth")||"1064";g=parseInt(m);360>g&&(g=360)}catch(p){g=1064}(a=f.getAttribute("data-oncomplete"))&&a.length&&(a=a.split("."));(h=f.getAttribute("data-onlogin"))&&h.length&&(h=h.split("."));(l=f.getAttribute("data-onlogout"))&&l.length&&(l=l.split("."));q=(f.getAttribute("data-loginenv")||"live").toLowerCase()}a:{switch(c){case 589824:case 589825:case 458752:case 74257:case 74245:case 74264:case 720896:case 720897:case 786432:case 786433:f=
!0;break a}f=!1}d.options={gameCode:c,showPublicBanner:e,showPcbangMenu:k,skipToContentsId:b,onGNBRenderComplete:a,minWidth:g,onGNBLogin:h,onGNBLogout:l,loginEnv:q,hasManyLoginProvider:f}};d.executeCompleteCallback=function(){var c=d.options.onGNBRenderComplete;if(c&&c.length&&$nq.isArray(c)){var e=window;try{for(var f=0,k=c.length-1;f<k;f++)e=e[c[f]];var b=e[c[c.length-1]];"function"===typeof b&&b()}catch(a){}}};d.renderSkeleton=function(){wrapperElement=document.createElement("div");wrapperElement.style.height=
"62px";wrapperElement.style.position="relative";wrapperElement.style.top="0";wrapperElement.style.width="100%";wrapperElement.style.minWidth="1007px";var c=Gnb.options.skipToContentsId;(c=c&&c.length?document.getElementById(c):null)?c.parentNode.insertBefore(wrapperElement,c.nextSibling):document.body.insertBefore(wrapperElement,document.body.firstChild)};return d});
(function(d){(function(c,d,k,b,a,g){c.hj=c.hj||function(){(c.hj.q=c.hj.q||[]).push(arguments)};c._hjSettings={hjid:1327448,hjsv:6};a=d.getElementsByTagName("head")[0];g=d.createElement("script");g.async=1;g.src=k+c._hjSettings.hjid+b+c._hjSettings.hjsv;a.appendChild(g)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=");var c={js:{jquery:protocol+"//"+GulpReplacementPlaceholder.RESOURCE+"/gnb/js/jquery/1.9.1/jquery.min.js",nanoscroll:protocol+"//"+GulpReplacementPlaceholder.RESOURCE+
"/gnb/js/jquery.nanoscroller/0.8.7/jquery.nanoscroller.min.js",publicBanner:0>document.location.protocol.indexOf("http")?"publicbanner.min.js":protocol+"//"+GulpReplacementPlaceholder.RESOURCE+"/common/js/publicbanner.min.js",playlog:("https:"===protocol?"https://ssl.nexon.com":"http://js.nexon.com")+"/s1/da/a2s.js",ps:("https:"===protocol?"https://ssl.nexon.com":"http://js.nexon.com")+"/s1/p2/ps.min.js",ps_test:("https:"===protocol?"https://ssl-test.nexon.com":"http://js-test.nexon.com")+"/s1/p2/ps.min.js"},
css:{gnbStylesheet:protocol+"//"+GulpReplacementPlaceholder.RESOURCE+"/gnb/css/gnb.css"}};d.dependencies=c;Helper.appendStylesheet(c.css.gnbStylesheet);Gnb.parseOption();Gnb.renderSkeleton();$script(c.js.jquery,function(){$script(c.js.nanoscroll,function(){Gnb.init()})});("object"!==typeof $h||"object"!==typeof $h.a2s&&"function"!==typeof sendClickLog)&&$script(c.js.playlog);"undefined"===typeof PS&&("test"===Gnb.options.loginEnv?$script(c.js.ps_test,null,null,{"data-nxlogin":"true"}):$script(c.js.ps,
null,null,{"data-nxlogin":"true"}))})(window);(function(d,c,e){d[c]=e})(window.Gnb,"myGame",function(){});
(function(d,c,e){d[c]=e})(window.Gnb,"init",function(){var d=window.Helper,c=window.Gnb,e=window.A2SLogger,f=c.domain,k=window.SessionStorage;c.Components={};var b=c.Components;b.GnbLayerManager=function(){var a={NONE:"",ALL_LAYER:"All",MY_INFO_LAYER:"My",MESSAGE_LAYER:"Message"},g={LayerType:a};g.prevLayerType=a.NONE;g.hideLayer=function(g){return function(){$nq(".gnb"+g+"Layer").css("visibility","hidden");g!==a.MESSAGE_LAYER&&$nq(".gnbDimmedLayer").css("visibility","hidden")}};g.showLayer=function(h){return function(){g.prevLayerType=
h;h!==a.MESSAGE_LAYER&&$nq("body").addClass("gnbScrollHide");$nq(".gnbWrapper").addClass("gnbState"+h)}};g.closeLayer=function(h){var b=g.prevLayerType;h=h||b;h!==a.MESSAGE_LAYER&&$nq("body").removeClass("gnbScrollHide");$nq(".gnbWrapper").removeClass("gnbState"+h);g.prevLayerType=a.NONE;setTimeout(g.hideLayer(h),200)};g.toggleLayer=function(h){var b=g.prevLayerType,c=g.closeLayer,d=g.showLayer;h&&h!==b?(b&&b!==a.NONE&&c(b),$nq(".gnb"+h+"Layer").css("visibility","visible"),h!==a.MESSAGE_LAYER&&$nq(".gnbDimmedLayer").css("visibility",
"visible"),setTimeout(d(h),0)):c(b);return!1};g.closeAllLayer=function(){var a=g.closeLayer;a(g.prevLayerType)};return g}();b.Storage=function(){function a(a,b){var h=g[a].subscribers;g[a].data=b;for(var c=0,l=h.length;c<l;c++)h[c](b)}var g={barData:{data:{userinfo:{nickname:"",membersn:0},message:{count:0},recentGames:{games:[]}},fetchData:function(a){$nq.ajax({url:f.gnbapi+"/myinfo/bar",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackBar",success:function(b){g.barData.data=b;a("barData",
b)}})},needAuthentication:!0,subscribers:[]},message:{data:{messages:[]},fetchData:function(a){$nq.ajax({url:f.gnbapi+"/myinfo/messages",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackMessage",success:function(b){g.message.data=b;a("message",b)}})},needAuthentication:!0,subscribers:[]},personalizations:{data:{gameIcon:null,personalization:{currency:{nexonCash:0,nexonplayPoint:0},security:{disallowAbroadLogin:!1,disallowIDCreation:!1,nexonCashSecuritySetting:!1,uotp:!1,nexonplayPass:!1}}},
fetchData:function(a){$nq.ajax({url:f.gnbapi+"/myinfo/personalizations?gameCode="+c.options.gameCode,type:"GET",dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpCallbackPersonalizations",success:function(b){g.personalizations.data=b;a("personalizations",b)}})},needAuthentication:!0,subscribers:[]},myinfoBanner:{data:{id:null,name:null,startDate:null,endDate:null,url:null,imageUrl:null,imageAlt:null},fetchData:function(a){var b=g.personalizations.data.personalization.myinfoBanners;b&&b.length?
a("myinfoBanner",b[Math.floor(Math.random()*b.length)]):a("myinfoBanner",null)},subscribers:[]},games:{data:[],fetchData:function(a){$nq.ajax({url:f.gnbapi+"/v2/games",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackGames",success:function(b){g.games.data=b;a("games",b)}})},subscribers:[]},pcbangCheck:{data:{isAtPcBang:!1},fetchData:function(a){$nq.ajax({url:f.gnbapi+"/myinfo/pcbang-check",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackPcbangCheck",success:function(b){g.pcbangCheck.data=
b;a("pcbangCheck",b)}})},subscribers:[]},nexonLogo:{data:{url:null},fetchData:function(a){$nq.ajax({url:f.gnbapi+"/logos",type:"GET",dataType:"jsonp",jsonCallback:"jsonCallbackNexonLogo",success:function(b){return a("nexonLogo",b)}})},subscribers:[]},myGame:{data:{MyGames:[]},fetchData:function(a){var b=k.get("GNB_MyGame_"+d.getMemberSN(),!0);$nq(".gnbBarLeft .gnbShortcuts .gnbShortcutsList").remove();null==b?$nq.ajax({url:f.myapi+"/MyGame/MyGameList?st=sso",type:"GET",dataType:"jsonp",jsonCallback:"jsonCallbackMyGame",
xhrFields:{withCredentials:!0},success:function(b){g.myGame.data=b;k.set("GNB_MyGame_"+b.MyGameInfo.MemberSN,b,!0,60);a("myGame",b)}}):a("myGame",b)},subscribers:[]},myData:{data:{isPrime:!1,birthDate:null,MyGameType:0,SecurityGrade:{Grade:null},SecurityMessage:null},fetchData:function(a){var b=k.get("GNB_MyInfo2_"+d.getMemberSN(),!0);b?a("myData",b):$nq.ajax({url:f.myapi+"/My/MyInfo?st=sso",type:"GET",dataType:"jsonp",xhrFields:{withCredentials:!0},jsonpCallback:"jsonCallbackMyInfo",success:function(b){g.myData.data=
b.info;k.set("GNB_MyInfo2_"+d.getMemberSN(),b.info,!0,5);a("myData",b.info)}})},subscribers:[]},mySecurityData:{data:{isPrime:!1,birthDate:null,MyGameType:0,SecurityGrade:{Grade:null},SecurityMessage:null},fetchData:function(a){$nq.ajax({url:f.myapi+"/My/MyInfoDetail?st=sso",type:"GET",dataType:"jsonp",xhrFields:{withCredentials:!0},jsonpCallback:"jsonCallbackMyInfoDetail",success:function(b){g.mySecurityData.data=b.info;a("mySecurityData",b.info)}})},subscribers:[]},couponData:{data:{errorCode:-1,
errorMessage:"",boxUrl:""},fetchData:function(a){$nq.ajax({url:Gnb.domain.gnbapi+"/service/cpurl?gameCode="+c.options.gameCode,type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackCoupon",success:function(b){return a("couponData",b)},error:function(b,g,c){return a("couponData",null)}})},needAuthentication:!0,subscribers:[]},unUsedCouponData:{data:{unUsedQuantity:0},fetchData:function(a){$nq.ajax({url:Gnb.domain.gnbapi+"/myinfo/coupons/unused-quantity",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackCouponQuantity",
success:function(b){g.unUsedCouponData.data=b;a("unUsedCouponData",b)}})},needAuthentication:!0,subscribers:[]},cardData:{data:{isRequestTypeCode1Or2ByIdentitySn:0},fetchData:function(a){var b=k.get("GNB_MyCard_"+d.getMemberSN(),!0);b?a("cardData",b):$nq.ajax({url:Gnb.domain.gnbapi+"/myinfo/cards",type:"GET",dataType:"jsonp",jsonpCallback:"jsonpCallbackCard",success:function(b){b&&(g.cardData.data.isRequestTypeCode1Or2ByIdentitySn=b.isRequestTypeCode1Or2ByIdentitySn);k.set("GNB_MyCard_"+d.getMemberSN(),
g.cardData.data,!0,5);a("cardData",b)},error:function(a,b,g){console.error(b+" "+g)}})},needAuthentication:!0,subscribers:[]},addSubscriber:function(a){g[a.label].subscribers.push(a.callback)},fetchData:function(b){var c=g[b];b=c.fetchData;if(c.needAuthentication&&(c=GNBCookies.get("ENC"),!c||!c.length))return;b(a)},getData:function(a){return(a=g[a])?a.data:null}};return g}();b.GnbBarLogo=function(){var a=$nq("<a>").attr("href",f.home+"/Home/Game"),g=f.resource+"/gnb/images/logo_nexon.png",h="NEXON",
l='{"Name":"Nexon","Type":"Logo_Default","PageCode":"'+c.options.gameCode+'"}',q=function(){return e.sendClickLog("Nexon","Logo_Default")},n=GNBCookies.get("gnbLogo");if(null!=n&&"null"!==n){var k=JSON.parse(n);g=k.imageUrl;l='{"Name":"Nexon","Type":"Logo_Anniversary","Value":"'+k.title+'","PageCode":"'+c.options.gameCode+'"}';h=k.title;q=function(){return e.sendClickLog("Nexon","Logo_Anniversary",k.title)}}a.attr({obj:"P_GNB",opt:l}).click(q);var p=$nq("<img>").attr({src:g,alt:h});a.append(p);g=
$nq("<h1>").addClass("gnbLogo").append(a);d.isLoggedIn()?b.Storage.addSubscriber({label:"myData",callback:function(a){a.birthDate&&r(a)?t(a):b.Storage.addSubscriber({label:"nexonLogo",callback:function(a){u(a)}})}}):b.Storage.addSubscriber({label:"nexonLogo",callback:function(a){u(a)}});var r=function(a){var b=new Date;b=("0"+(1+b.getMonth())).slice(-2)+("0"+b.getDate()).slice(-2);return a.birthDate==b},t=function(g){var h=g.isPrime?{imageUrl:f.resource+"/gnb/images/temp/logo_sample2_prime.png",title:"\ub125\uc2a8 PRIME \uc0dd\uc77c"}:
{imageUrl:f.resource+"/gnb/images/temp/logo_sample2.png",title:"\uc0dd\uc77c"},d=h.title;p.attr({src:h.imageUrl,alt:d});a.off().attr({obj:"P_GNB",opt:'{"Name":"Nexon","Type":"Logo_Birthday","Value":"'+d+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("Nexon","Logo_Birthday",d)});h=$nq("<span>").addClass("gnbLogoTextR").text("\uc0dd\uc77c\uc744 \ucd95\ud558\ud569\ub2c8\ub2e4");var l=$nq("<span>").addClass("gnbLogoTextL").append("<span></span>\ub2d8");a.append(l).append(h);
e.sendContentsLog("Nexon","Logo_Birthday",d);g.isPrime&&$nq(".gnbWrapper").addClass("gnbWrapperPrime");(g=b.Storage.barData.data.userinfo.nickname)&&$nq(".gnbLogoTextL > span").text(g);b.Storage.addSubscriber({label:"barData",callback:function(a){a=a.userinfo.nickname;$nq(".gnbLogoTextL > span").text(a)}})},u=function(b){var g=new Date,h=g.getMinutes()+30,d=g.getSeconds();g.setMinutes(60<h?60:h);g.setSeconds(60<h?0:d);if(b&&b.imageUrl&&b.imageUrl.length){h=b.imageUrl;var l=b.title;GNBCookies.set("gnbLogo",
JSON.stringify({imageUrl:h,title:l}),{expires:g,domain:".nexon.com"});p.attr({src:h,alt:l});a.off().attr({obj:"P_GNB",opt:'{"Name":"Nexon","Type":"Logo_Anniversary","Value":"'+l+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("Nexon","Logo_Anniversary",l)})}else GNBCookies.set("gnbLogo",null,{expires:g,domain:".nexon.com"})};return g};b.GnbBarAllMenuButton=function(){function a(){g?f.off("click",a):(g=!0,b.Storage.fetchData("games"))}var g=!1,h=$nq("<span>").addClass("gnbIcon"),
d=$nq("<span>").text("\uba54\ub274"),f=$nq("<a>").attr("href","#gnbAllLayer").attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"Open","PageCode":"'+c.options.gameCode+'"}'}).click(a).click(function(){return e.sendClickLog("AllMenu","Open")}).click(function(a){var g=b.GnbLayerManager;g.toggleLayer(g.LayerType.ALL_LAYER);a.preventDefault();a.stopPropagation()}).append(h,d);return $nq("<div>").addClass("gnbAllmenu").attr("id","gnbAllmenu").append(f)};b.GnbBarRecentGameIconImage=function(a){var b=a.ImageUrl;
a=a.Name;b=$nq("<img>").attr({src:b,width:"36",height:"36",alt:a.replace(/(\|br\|)/g,"")});return $nq("<span>").addClass("gnbShortcutsImg").append(b)};b.GnbBarRecentGameIconText=function(a){a=a.Name;a=$nq("<span>").text(a.replace(/(\|br\|)/g,""));return $nq("<span>").addClass("gnbShortcutsName").append(a)};b.GnbBarRecentGameIcon=function(a){var g=a.Url,h=a.GameCode,d=a.pcSiteOpenType,f=a.idx,n=b.GnbBarRecentGameIconText,k=(0,b.GnbBarRecentGameIconImage)(a);a=n(a);g=$nq("<a>").attr("href",g).attr("target",
2===d?"_blank":"_self").append(k,a);return $nq("<li>").attr({obj:"P_GNB",opt:'{"Name":"My_Latest'+(f+1)+'","GameCode":"'+h+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("My_Latest"+(f+1),null,null,h)}).append(g)};b.GnbBarRecentGames=function(){$nq(".gnbBarLeft .gnbShortcuts").remove();var a=$nq("<div>").addClass("gnbShortcuts");b.Storage.addSubscriber({label:"myGame",callback:function(g){$nq(".gnbBarLeft .gnbShortcuts .gnbShortcutsList").remove();g=g.MyGames.filter(function(a){return-1==
a.FeatureID||2018==a.FeatureID});var c=b.GnbBarRecentGameIcon;g=g.map(function(a,b){return c(Object.assign({},a,{idx:b}))});g=$nq("<ul>").addClass("gnbShortcutsList").append(g);a.append(g)}});return a};b.GnbBarLeftSection=function(){var a=d.isLoggedIn(),g=b.GnbBarAllMenuButton();g=$nq("<div>").addClass("gnbBarLeft").append(g);a&&(a=b.GnbBarRecentGames(),g.append(a));return g};b.GnbBarCardMenu=function(){var a=$nq("<span>").addClass("gnbIcon gnbIconCard"),b=$nq("<span>").addClass("gnbHiddenName").text("\ub125\uc2a8\ud604\ub300\uce74\ub4dc"),
h=$nq("<span>").addClass("gnbBadge").text("N");a=$nq("<a>").attr("href","https://nexon.link/5t0").attr({obj:"P_GNB",opt:'{"Name":"MyCard","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyCard")}).append(a,b,h);return $nq("<div>").addClass("gnbCard").append(a)};b.GnbBarPcbangMenu=function(){var a=function(a){h.removeClass("gnbIconPcbangOn gnbIconPcbangOff").addClass(a?"gnbIconPcbangOn":"gnbIconPcbangOff");d.removeClass("gnbHiddenNamePcbangOff").addClass(a?"":"gnbHiddenNamePcbangOff").text(a?
"PC\ubc29":"PC\ubc29 \ucc3e\uae30");f.text(a?"ON":"OFF");k.removeClass("gnbPcbangOn gnbPcbangOff").addClass(a?"gnbPcbangOn":"gnbPcbangOff");m.attr("href","#").attr({opt:'{"Name":"PCbang","Type":"'+(a?"On":"Off")+'","PageCode":"'+c.options.gameCode+'"}'}).off("click").click(function(){return e.sendClickLog("PCbang",a?"On":"Off")}).click(function(){return window.open("https://pcbang.nexon.com/search","_blank","width=800,height=800,toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")}).append(h,
d,k)},g="true"===GNBCookies.get("isCafe"),h=$nq("<span>").addClass("gnbIcon gnbIconPcbang "+(g?"gnbIconPcbangOn":"gnbIconPcbangOff")),d=$nq("<span>").addClass("gnbHiddenName "+(g?"":"gnbHiddenNamePcbangOff")).text(g?"PC\ubc29":"PC\ubc29 \ucc3e\uae30"),f=$nq("<span>").addClass("gnbAcchidden").text(g?"ON":"OFF"),k=$nq("<span>").addClass("gnbPcbang"+(g?"On":"Off")).append(f),m=$nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"PCbang","Type":"'+(g?"On":"Off")+'","PageCode":"'+c.options.gameCode+
'"}'}).click(function(){return e.sendClickLog("PCbang",g?"On":"Off")}).click(function(){return window.open("https://pcbang.nexon.com/search","_blank","width=800,height=800,toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")}).append(h,d,k),p=$nq("<div>").addClass("gnbPcbang").append(m);b.Storage.addSubscriber({label:"pcbangCheck",callback:function(b){b.hasError||(b.isAtPcBang?(GNBCookies.set("isCafe","true",{expires:1,domain:".nexon.com"}),a(!0)):(GNBCookies.set("isCafe",
"false",{expires:1,domain:".nexon.com"}),a(!1)))}});a(g);return p};b.GnbBarMessageMenuButton=function(a){function g(){h?f.off("click",g):(h=!0,b.Storage.fetchData("message"))}var h=!1;a=$nq("<span>").addClass("gnbIcon gnbIconMessage");var d=$nq("<span>").addClass("gnbHiddenName").text("\ucabd\uc9c0"),f=$nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"MyMsg","Type":"Open","PageCode":"'+c.options.gameCode+'"}'}).append(a,d).click(g).click(function(){return e.sendClickLog("MyMsg","Open")}).click(function(){var a=
b.GnbLayerManager;a.toggleLayer(a.LayerType.MESSAGE_LAYER)});f.update=function(a){a=a.count;0<a&&(a=99<a?"99+":a,a=$nq("<span>").text(a).addClass("gnbBadge").text(a),f.append(a))};return f};b.GnbMessageLayerHeaderText=function(a){a=a.count;var b=$nq("<span>").text("\uc0c8 \ucabd\uc9c0"),h=$nq("<span>").addClass("gnbNum").text(a);a=$nq("<a>").attr("href","https://message.nexon.com").append(b,h);a=$nq("<h2>").addClass("gnbMessageTit").attr({obj:"P_GNB",opt:'{"Name":"MyMsg","Type":"Title","PageCode":"'+
c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyMsg","Title")}).append(a);a.update=function(a){a=a.count;0<a&&h.text(a).removeClass("gnbNum").addClass("gnbNew")};return a};b.GnbMessageLayerHeaderButtonIcon=function(){return $nq("<span>").addClass("gnbIcon")};b.GnbMessageLayerHeaderSendMessageButton=function(){var a=b.GnbMessageLayerHeaderButtonIcon();return $nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"MyMsg","Type":"NewMsgSend","PageCode":"'+c.options.gameCode+'"}'}).text("\ucabd\uc9c0 \ubcf4\ub0b4\uae30").click(function(){return e.sendClickLog("MyMsg",
"NewMsgSend")}).click(function(){return window.open("https://message.nexon.com/notebox/send/1?gameCode=65536","_blank","width=555, height=580, resizable=0")}).append(a)};b.GnbMessageLayerHeaderMessageBoxButton=function(){var a=b.GnbMessageLayerHeaderButtonIcon();return $nq("<a>").attr("href","https://message.nexon.com").attr({obj:"P_GNB",opt:'{"Name":"MyMsg","Type":"MyMsgButton","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyMsg","MyMsgButton")}).text("\ucabd\uc9c0\ud568").append(a)};
b.GnbMessageLayerHeaderButtons=function(){var a=b.GnbMessageLayerHeaderSendMessageButton(),g=b.GnbMessageLayerHeaderMessageBoxButton();return $nq("<div>").addClass("gnbMessageBt").append(a,g)};b.GnbMessageLayerHeader=function(a){var g=b.GnbMessageLayerHeaderText(a);a=b.GnbMessageLayerHeaderButtons();a=[g,a];a.update=function(a){g.update(a)};return a};b.GnbMessageLayerBodyEmptyList=function(){return $nq("<li>").addClass("gnbNone").text("\uc0c8 \ucabd\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4")};b.GnbMessageLayerMessageItemIcon=
function(a){a=a.messageType;var b=$nq("<span>");return $nq("<span>").addClass("gnbIcon").addClass(1===a?"gnbIconFriend":"gnbIconNexon").append(b)};b.GnbMessageLayerMessageItemSender=function(a){var b=a.sender,c=a.messageTypeName;a=1===a.messageType?" "+b:" "+c;return $nq("<span>").addClass("gnbSender").text(a)};b.GnbMessageLayerMessageItemDate=function(a){a=d.getDateFromISO(a.sentDate);a=[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-");return $nq("<span>").addClass("gnbDate").text(a)};
b.GnbMessageLayerMessageItemContent=function(a){a=a.content;return $nq("<span>").addClass("gnbTit").text(a)};b.GnbMessageLayerMessageItem=function(a){var g="https://message.nexon.com/notebox/list/"+(1===a.messageType?"1":"4"),h=b.GnbMessageLayerMessageItemIcon(a),d=b.GnbMessageLayerMessageItemSender(a),f=b.GnbMessageLayerMessageItemDate(a);a=b.GnbMessageLayerMessageItemContent(a);g=$nq("<a>").attr("href",g).attr({obj:"P_GNB",opt:'{"Name":"MyMsg","Type":"List","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyMsg",
"List")}).append(h,d,f,a);return $nq("<li>").append(g)};b.GnbMessageLayerBodyMessageList=function(a){return a.map(function(a){return b.GnbMessageLayerMessageItem(a)})};b.GnbMessageLayerBody=function(a){a=b.GnbMessageLayerBodyEmptyList();var g=$nq("<ul>").append(a);g.update=function(a){a&&a.length&&(g.empty(),a=b.GnbMessageLayerBodyMessageList(a),g.append(a))};return g};b.GnbMessageLayer=function(a){var g=b.GnbMessageLayerBody,c=(0,b.GnbMessageLayerHeader)(a),d=g(a);a=$nq("<div>").addClass("gnbMessageLayer").append(c,
d);a.updateCount=function(a){c.update(a)};a.updateMessages=function(a){d.update(a)};return a};b.GnbBarMessageMenu=function(){var a={count:0,messages:[]},g=b.GnbMessageLayer,c=(0,b.GnbBarMessageMenuButton)(a),d=g(a);a=$nq("<div>").addClass("gnbMessage").append(c,d);b.Storage.addSubscriber({label:"barData",callback:function(a){c.update(a.message);d.updateCount(a.message)}});b.Storage.addSubscriber({label:"message",callback:function(a){d.updateMessages(a)}});b.Storage.addSubscriber({label:"myGame",callback:function(a){}});
return a};b.GnbBarCouponMenu=function(){var a=$nq("<span>").addClass("gnbIcon gnbIconCoupon"),g=$nq("<span>").addClass("gnbHiddenName").text("\ucfe0\ud3f0\ud568"),h=$nq("<a>").attr("href","#").append(a,g).attr({obj:"P_GNB",opt:'{"Name":"MyCoupon","Type":"Open","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyCoupon","Open")}).click(function(){return b.Storage.fetchData("couponData")});a=$nq("<div>").addClass("gnbCoupon").append(h);b.Storage.addSubscriber({label:"couponData",
callback:function(a){var b=f.coupon;a&&0==a.errorCode&&a.boxUrl&&(b=a.boxUrl);d.openCouponBox(b)}});b.Storage.addSubscriber({label:"unUsedCouponData",callback:function(a){a=void 0===a.unUsedQuantity?0:a.unUsedQuantity;0<a&&(a=99<a?"99+":a,a=$nq("<span>").text(a).addClass("gnbBadge"),h.append(a))}});return a};b.GnbBarSeparator=function(){return $nq("<div>").addClass("gnbSeparator")};b.GnbBarLogoutMenu=function(){var a=d.getLogoutPageURL(),b=d.getLogoutTestPageURL(),h=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"Logout","PageCode":"'+
c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("Logout")}).text("\ub85c\uadf8\uc544\uc6c3"),f=d.getWindowFunction(c.options.onGNBLogout);f?h.attr("href","#").click(function(){f();return!1}):"test"===c.options.loginEnv?h.attr("href",b):h.attr("href",a);return $nq("<div>").addClass("gnbLogout").append(h)};b.GnbBarPrimeMenu=function(a){var b=""+f.prime,h=$nq("<a>").attr("href",b).attr({obj:"P_GNB",opt:'{"Name":"Prime","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("Prime")});
h.append('<span class="gnbIcon gnbIconPrime"></span>PRIME');b=$nq("<span>").attr("class","gnbTooltip gnbTooltipOpen");var d=$nq("<span>");1020==a||5020==a?d.attr("class","gnbTooltipCnts gnbTooltipShortCnts").html('\ub125\uc2a8 PRIME \ud61c\ud0dd\uc744 \ubc1b\uae30 \uc704\ud574<br>PRIME \ud648\ud398\uc774\uc9c0\uc5d0\uc11c <span class="gnbTooltipCntsBold">\ubcf8\uc778\ud655\uc778\uc744 \ud574\uc8fc\uc138\uc694.</span>'):d.attr("class","gnbTooltipCnts").html("\ub125\uc2a8 PRIME \uba64\ubc84\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4.<br>\ub2e4\uc591\ud55c \ud61c\ud0dd\uc744 \ub125\uc2a8 PRIME \ud648\ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.");
a=new Date;var k=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59);a=$nq("<a>").attr("href","#").attr("class","gnbBtClose").click(function(){GNBCookies.set("PITCHK","1",{expires:k,domain:".nexon.com"});$nq(".gnbPrime .gnbTooltip").hide()}).append('<span class="gnbIconClose"></span>');d.append(a);b.append(d).append('<span class="gnbTooltipDeco"></span>');d=GNBCookies.get("PITCHK");h=$nq("<div>").addClass("gnbPrime").append(h);null==d&&h.append(b);return h};b.GnbBarMyInfoMenu=function(){function a(){b.Storage.fetchData("personalizations");
b.Storage.fetchData("mySecurityData");f.off("click",a).on("click",g)}function g(){b.Storage.fetchData("myinfoBanner")}var h=$nq('<span><span class="platform-icon padding-2px"></span><span class="nickname"></span></span>'),d=$nq("<span>").addClass("gnbIcon"),f=$nq("<a>").addClass("gnbBtMyinfo").attr("href","#").attr("title","\ub0b4\uc815\ubcf4 \ub354\ubcf4\uae30").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Open","PageCode":"'+c.options.gameCode+'"}'}).click(a).click(function(){return e.sendClickLog("MyInfo",
"Open")}).click(function(a){var g=b.GnbLayerManager;g.toggleLayer(g.LayerType.MY_INFO_LAYER);a.preventDefault();a.stopPropagation()}).append(h).append(d);h=$nq("<span>").addClass("gnbSecurity").append('<span class="gnbAcchidden">?</span>');h=$nq("<a>").addClass("gnbBtSecurity").attr("href","https://security.nexon.com").attr({obj:"P_GNB",opt:'{"Name":"MySecurityLevel","Type":"0","PageCode":"'+c.options.gameCode+'"}'}).append(h);h=$nq("<div>").addClass("gnbMyinfo").attr("id","gnbMyInfo").append(f).append(h);
b.Storage.addSubscriber({label:"barData",callback:function(a){var b=a.userinfo;a=b.nickname;b=getTPALastLoginPlatform(b.tpaCode||0);$nq("#gnbMyInfo > a:eq(0) > span:eq(0) > .platform-icon").addClass("platform-icon-"+(b||"nexon")).addClass("gnbText");$nq("#gnbMyInfo > a:eq(0) > span:eq(0) > .nickname").addClass("gnbText").text(a)}});b.Storage.addSubscriber({label:"myData",callback:function(a){var b=["A","B","C","D"],g=["\uc815\uc0c1","\uc8fc\uc758","\uacbd\uace0","\uc704\ud5d8"];if(a.SecurityGrade.Grade&&
-1!=b.indexOf(a.SecurityGrade.Grade)){var h=b.indexOf(a.SecurityGrade.Grade);$nq("#gnbMyInfo > a:eq(1) > span").addClass("gnbSecurity"+a.SecurityGrade.Grade);$nq("#gnbMyInfo > a:eq(1) > span > span").text(g[h]);$nq("#gnbMyInfo > a:eq(1)").attr({obj:"P_GNB",opt:'{"Name":"MySecurityLevel","Type":"'+(h+1)+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MySecurityLevel",""+(h+1))})}else $nq("#gnbMyInfo > a:eq(1)").click(function(){return e.sendClickLog("MySecurityLevel",
"0")})}});return h};b.GnbBarLoggedInMenus=function(){var a=b.GnbBarMessageMenu(),g=b.GnbBarCouponMenu(),c=b.GnbBarSeparator(),d=b.GnbBarLogoutMenu(),e=b.GnbBarMyInfoMenu();a=[a,g,c,d,e];b.Storage.addSubscriber({label:"myData",callback:function(a){a.isPrime&&(a=b.GnbBarPrimeMenu(a.PrimeGradeCode),$nq(".gnbBarRight .gnbLogout").after(a))}});return a};b.GnbBarLoginButton=function(){var a=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"Login","PageCode":"'+c.options.gameCode+'"}'}).text(c.options.hasManyLoginProvider?
"\ub125\uc2a8 \ub85c\uadf8\uc778":"\ub85c\uadf8\uc778"),b=d.getWindowFunction(c.options.onGNBLogin);b?a.attr("href","#").click(function(){b();return!1}):"test"===c.options.loginEnv?a.attr("href",f.login_test+"/common/login.aspx?redirect="+encodeURIComponent(location.href)):a.attr("href",f.login+"/common/login.aspx?redirect="+encodeURIComponent(location.href));return $nq("<div>").addClass("gnbLogin").click(function(){return e.sendClickLog("Login")}).append(a)};b.GnbBarRegisterButton=function(){var a=
$nq("<a>").attr("href","https://member.nexon.com/join/join.aspx").attr({obj:"P_GNB",opt:'{"Name":"Join","PageCode":"'+c.options.gameCode+'"}'}).text(c.options.hasManyLoginProvider?"\ub125\uc2a8 \ud68c\uc6d0\uac00\uc785":"\ud68c\uc6d0\uac00\uc785");return $nq("<div>").addClass("gnbJoin").click(function(){return e.sendClickLog("Join")}).append(a)};b.GnbBarNotLoggedInMenus=function(){var a=b.GnbBarRegisterButton(),g=b.GnbBarLoginButton();return[a,g]};b.GnbBarRightSection=function(){var a=d.isLoggedIn(),
g=$nq("<div>").addClass("gnbBarRight"),h=[],e=b.GnbBarCardMenu();h.push(e);c.options.showPcbangMenu&&(e=b.GnbBarPcbangMenu(),h.push(e));a=a?b.GnbBarLoggedInMenus():b.GnbBarNotLoggedInMenus();h=h.concat(a);g.append(h);return g};b.GnbBar=function(){var a=b.GnbBarLogo(),g=b.GnbBarLeftSection(),c=b.GnbBarRightSection();return $nq("<div>").addClass("gnbBar").append(a,g,c)};b.GnbDimmedLayer=function(){return $nq("<div>").addClass("gnbDimmedLayer")};b.GnbScroller=function(a){var b=a.rootClass,c=a.contentClass;
a=a.children;var d=$nq("<div>").addClass("gnbScrollContent").addClass(c).append(a);b=$nq("<div>").addClass("gnbScroll "+b).append(d);b.addChildren=function(a){for(var b=0,g=a.length;b<g;b++)d.append(a[b])};b.removeChildren=function(){d.empty()};return b};b.GnbLeftLayerSitemapButton=function(){return $nq("<a>").attr("href","http://help.nexon.com").attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"Help","PageCode":"'+c.options.gameCode+'"}'}).text("\uace0\uac1d\uc13c\ud130").click(function(){return e.sendClickLog("AllMenu",
"Help")})};b.GnbLeftLayerTabItem=function(a){var b=a.name,h=a.className,d=a.hashLink;a=$nq("<a>").attr("href",d).text(b);return $nq("<li>").addClass(h).attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"'+("#gnbListPc"===d?"PCGame":"MobileGame")+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("AllMenu","#gnbListPc"===d?"PCGame":"MobileGame")}).append(a)};b.GnbLeftLayerTabs=function(){var a=b.GnbLeftLayerSitemapButton(),g=b.GnbLeftLayerTabItem,c=[{name:"\uc804\uccb4\uac8c\uc784",
className:"gnbBtPc",hashLink:"#gnbListPc"}].map(function(a){return g(a).click(function(){var a=$nq(".gnbAllLayer");$nq(this).hasClass("gnbBtPc")?a.removeClass("gnbStateMobile").addClass("gnbStatePc"):a.removeClass("gnbStatePc").addClass("gnbStateMobile");$nq(".gnbAllScroll").nanoScroller()})});c=$nq("<ul>").append(c);return $nq("<div>").addClass("gnbGameTab").append(c,a)};b.GnbGameListCellHeader=function(a){a=a.headerName;return $nq("<h3>").text(a)};b.GnbSubGameListItem=function(a){var b=a.gameCode,
h=a.name,d=a.url;a=a.pcSiteOpenType;h=h.replace(/(\|br\|)/g,"");d=d||"http://game.nexon.com/"+b;h=$nq("<a>").attr("href",d).text(h);2===a&&h.attr("target","_blank");return $nq("<li>").attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"NameGame","GameCode":"'+b+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("AllMenu","NameGame",null,b)}).append(h)};b.GnbSubGameListContainer=function(a){var g=a.games,c=a.isPcGame;g=g.sort(function(a,b){return a.name<b.name?-1:1});var d=
$nq("<ul>"),e=b.GnbSubGameListItem;g.forEach(function(a){a=e(Object.assign({},a,{isPcGame:c}));d.append(a)});return d};b.GnbGameListCellChild=function(a){var c=b.GnbGameListCellHeader(a);a=b.GnbSubGameListContainer(a);return[c,a]};b.GnbGameListCell=function(a){var c=a.games;a=a.isPcGame;for(var d=$nq("<div>").addClass("gnbCell"),e=b.GnbGameListCellChild,f=0,k=c.length;f<k;f++){var m=c[f];m.games.length&&(m=e(Object.assign({},m,{isPcGame:a})),d.append(m))}return d};b.GnbGameListCells=function(a){var c=
a.splittedGames;a=a.isPcGame;var d=b.GnbGameListCell;return[d({games:c[0],isPcGame:a}),d({games:c[1],isPcGame:a})]};b.GnbGameListHeader=function(a){a=a.headerName;return $nq("<h3>").addClass("gnbAcchidden").text(a)};b.GnbGameList=function(a){var c=a.rootClass,d=a.id,e=a.isPcGame,f=function(a){var b=[],c=[],g;for(g in a)"\u3147~\u3148"===g&&(b.push(c),c=[]),c.push({headerName:g,games:a[g]});b.push(c);return b}(function(a){for(var b=[{headerName:"A~Z",lowLimit:"A".charCodeAt(),highLimit:"Z".charCodeAt()-
1},{headerName:"\u3131~\u3139",lowLimit:"\uac00".charCodeAt(),highLimit:"\ub9c8".charCodeAt()-1},{headerName:"\u3141~\u3145",lowLimit:"\ub9c8".charCodeAt(),highLimit:"\uc544".charCodeAt()-1},{headerName:"\u3147~\u3148",lowLimit:"\uc544".charCodeAt(),highLimit:"\ucc28".charCodeAt()-1},{headerName:"\u314a~\u314b",lowLimit:"\ucc28".charCodeAt(),highLimit:"\ud0c0".charCodeAt()-1},{headerName:"\u314c~\u314e",lowLimit:"\ud0c0".charCodeAt(),highLimit:"\ud7a3".charCodeAt()}],c={"A~Z":[],"\u3131~\u3139":[],
"\u3141~\u3145":[],"\u3147~\u3148":[],"\u314a~\u314b":[],"\u314c~\u314e":[]},g=0,d=a.length;g<d;g++)for(var h=a[g],e=h.name.charCodeAt(),f=$jscomp.makeIterator(b),l=f.next();!l.done;l=f.next()){l=l.value;var k=l.highLimit,q=l.headerName;if(l.lowLimit<=e&&e<=k){c[q].push(h);break}}return c}(a.games));a=b.GnbGameListHeader(a);e=b.GnbGameListCells({splittedGames:f,isPcGame:e});return $nq("<div>").addClass("gnbList "+c).attr("id",d).append(a).append(e)};b.GnbServiceListHeader=function(){return $nq("<h2>").addClass("gnbAcchidden").text("\uc11c\ube44\uc2a4")};
b.GnbServiceListItem=function(a){var b=a.name,d=a.url,f=a.logValue,k=void 0===a.targetBlank?!1:a.targetBlank;a=a.ids;a=$nq("<span>").addClass("gnbIcon gnbIconService"+a);b=$nq("<a>").attr("target",k?"_blank":"_self").attr("href",d).append(a,b);return $nq("<li>").attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"'+f+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("AllMenu",f)}).append(b)};b.GnbServiceBody=function(){var a=[{name:"\ub0b4\uc815\ubcf4",url:d.isLoggedIn()&&
d.isOldMember()?"https://user.nexon.com/mypage/page/nx.aspx?url=home/index":"https://member.nexon.com/home/index.aspx",logValue:"Member",ids:1},{name:"MY\uacb0\uc81c",url:""+f.payment,logValue:"NexonCash",ids:3},{name:"\ubcf4\uc548\uc13c\ud130",url:"https://security.nexon.com",logValue:"Security",ids:4},{name:"\ub125\uc2a8\ud50c\ub808\uc774",url:"http://nexonplay.nexon.com",logValue:"NexonPlay",ids:6},{name:"\ub125\uc2a8\ud50c\ub7ec\uadf8",url:""+f.plug,logValue:"NexonPlug",ids:9},{name:"\ub125\uc2a8\ub9c1\ud06c",
url:"https://nexonlink.nexon.com/kr",logValue:"NexonLink",ids:11},{name:"\ub125\uc2a8\uc2e4\ud5d8\uc2e4",url:"https://enter.nexon.com/laboratory",logValue:"Laboratory",ids:10},{name:"\ub125\uc2a8\ud604\ub300\uce74\ub4dc",url:"https://card.nexon.com/event?eventCode=NXNVV&utm_source=nxhome&utm_medium=nxhome4&utm_campaign=nxhd2022&utm_term=none&utm_content=common_banner7",logValue:"Card",ids:8},{name:"\ud06c\ub9ac\uc5d0\uc774\ud130\uc988",url:"https://creators.nexon.com/kr",logValue:"NexonCreators",
ids:14,targetBlank:!0},{name:"\ub125\uc2a8\uc5d0\uc13c\uc15c",url:"https://essential.nexon.com",logValue:"NexonEssential",ids:12,targetBlank:!0},{name:"\ub125\uc2a8OPENAPI",url:"https://openapi.nexon.com",logValue:"NexonOPENAPI",ids:13,targetBlank:!0},{name:"\uc774\ubca4\ud2b8&\uacf5\uc9c0",url:"http://event.nexon.com",logValue:"Event",ids:2}],c=b.GnbServiceListItem;a=a.map(function(a,b){return c(Object.assign({},a,{index:b+1}))});return $nq("<ul>").append(a)};b.GnbServiceList=function(){var a=b.GnbServiceListHeader(),
g=b.GnbServiceBody(),d=$nq("<a>").addClass("gnbBtAll").text("\uc804\uccb4\uc11c\ube44\uc2a4").attr("href",f.home+"/Home/Sitemap").attr({obj:"P_GNB",opt:'{"Name":"AllMenu","Type":"Sitemap","PageCode":"'+c.options.gameCode+'"}'});d.click(function(){return e.sendClickLog("AllMenu","Sitemap")});return $nq("<div>").addClass("gnbListService").append(a,g,d)};b.GnbLayerCloseButton=function(a){var g=$nq("<span>").addClass("gnbIcon"),d=$nq("<span>").addClass("gnbAcchidden");g=$nq("<a>").attr("href","#").attr({obj:"P_GNB",
opt:'{"Name":"'+("all"===a?"AllMenu":"MyInfo")+'","Type":"Close","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("all"===a?"AllMenu":"MyInfo","Close")}).click(function(){return b.GnbLayerManager.toggleLayer()}).append(g,d);return $nq("<div>").addClass("gnbLayerBt").append(g)};b.GnbLeftLayer=function(){var a=$nq("<div>").addClass("gnbAllLayer gnbStatePc").attr("id","gnbAllLayer").css("visibility","hidden"),c=b.GnbLeftLayerTabs(),d=b.GnbScroller({rootClass:"gnbAllScroll",
contentClass:"",children:[c]});c=b.GnbServiceList();var e=b.GnbLayerCloseButton("all");a.append(d).append(c).append(e);b.Storage.addSubscriber({label:"games",callback:function(a){a=b.GnbGameList({rootClass:"gnbListPc",id:"gnbListPc",headerName:"\uc804\uccb4\uac8c\uc784",games:a,isPcGame:!0});d.addChildren([a]);d.nanoScroller()}});return a};b.GnbRightLayerHeaderText=function(a){var b=a.nickname,h=a.tpaCode;a=d.isOldMember()?"https://user.nexon.com/mypage/page/nx.aspx?url=home/index":"https://member.nexon.com/home/index.aspx";
h=getTPALastLoginPlatform(h||0);h=$nq('<span class="platform-icon padding-4px"></span>').addClass("platform-icon-"+(h||"nexon")+"-2x");b=$nq("<a>").attr("href",a).append(h).append(b);return $nq("<span>").addClass("gnbNickname").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Nick","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","Nick")}).append(b)};b.GnbRightLayerPrimeButton=function(){var a=""+f.prime;a=$nq("<a>").attr("href",a).append('<span class="gnbIcon gnbIconPrime"></span>PRIME');
return $nq("<span>").addClass("gnbPrime").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Prime","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","Prime")}).append(a)};b.GnbRightLayerMyinfoButton=function(){var a=d.isOldMember()?"https://user.nexon.com/mypage/page/nx.aspx?url=home/index":"https://member.nexon.com/home/index.aspx";a=$nq("<a>").attr("href",a).text("\ub0b4\uc815\ubcf4");return $nq("<span>").addClass("gnbInfo").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Member","PageCode":"'+
c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","Member")}).append(a)};b.GnbRightLayerHeaderLogoutButton=function(){var a=d.getLogoutPageURL(),b=d.getLogoutTestPageURL(),h=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Logout","PageCode":"'+c.options.gameCode+'"}'}).text("\ub85c\uadf8\uc544\uc6c3").click(function(){return e.sendClickLog("MyInfo","Logout")}),f=d.getWindowFunction(c.options.onGNBLogout);f?h.attr("href","#").click(function(){f();return!1}):"test"===
c.options.loginEnv?h.attr("href",b):h.attr("href",a);return $nq("<span>").addClass("gnbLogout").append(h)};b.GnbRightLayerCouponBoxButton=function(){var a=$nq("<a>").attr("href","#").text("\ucfe0\ud3f0\ud568").click(function(){return b.Storage.fetchData("couponData")});return $nq("<span>").addClass("gnbCoupon").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"MyCoupon","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","MyCoupon")}).append(a)};b.GnbRightLayerHeader=
function(){var a=$nq("<div>").addClass("gnbMyinfo");b.Storage.addSubscriber({label:"barData",callback:function(c){c=b.GnbRightLayerHeaderText(c.userinfo);var g=b.GnbRightLayerMyinfoButton(),d=b.GnbRightLayerHeaderLogoutButton(),e=b.GnbRightLayerCouponBoxButton();a.append(c,g,e,d);b.Storage.addSubscriber({label:"mySecurityData",callback:function(a){a.isPrime&&(a=b.GnbRightLayerPrimeButton(),$nq(".gnbNickname").after(a))}})}});return a};b.GnbRightSecurityBanner=function(){var a=$nq("<div>").addClass("gnbSecurityMsg");
a.hide();b.Storage.addSubscriber({label:"mySecurityData",callback:function(b){if(b.SecurityMessage){var g="\uc120\ubb3c\ud558\uae30 \ubc0f \uc544\uc774\ud15c \uac70\ub798 \uc81c\ud55c \uc0c1\ud0dc\uc608\uc694."==b.SecurityMessage?"CashOut":"Exposure",d=$nq("<a>").attr("href","https://security.nexon.com").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Security_MSG","Value":"'+g+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","Security_MSG",g)});a.append(d);
d.text(22<b.SecurityMessage.length?b.SecurityMessage.substring(0,22)+"...":b.SecurityMessage);a.show()}}});return a};b.GnbPersonalizationAreaCellHeaderText=function(a){return $nq("<h2>").text(a)};b.GnbPersonalizationAreaCell=function(a){var c=a.listItems,d=a.extraItem;a=b.GnbPersonalizationAreaCellHeaderText(a.cellName);c=$nq("<ul>").append(c);c=$nq("<div>").addClass("gnbCell").append(a,c);d&&c.append(d);return c};b.GnbPlaypointTooltip=function(){function a(b){k.is(b.target)||0!==k.has(b.target).length||
($nq("html").off("click",a),k.removeClass("gnbTooltipOpen"))}var b=$nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"PlayPoint","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","PlayPoint")}).append('<span class="gnbIcon"/>'),d=$nq("<a>").attr("href","http://nexonplay.nexon.com/index.aspx").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"NexonPlay_Info","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo",
"NexonPlay_Info")}).append("\ub125\uc2a8\ud50c\ub808\uc774 \uc18c\uac1c\ubcf4\uae30");d=$nq("<span>").addClass("gnbTooltipCnts").append("\ub125\uc2a8\ud50c\ub808\uc774 \uc571\uc5d0\uc11c \uc774\ubca4\ud2b8\ub97c \ud1b5\ud574 \uc801\ub9bd\ub418\ub294").append("<br>").append("\ud3ec\uc778\ud2b8\uc785\ub2c8\ub2e4. ").append(d);var f=$nq("<span>").addClass("gnbTooltipDeco"),k=$nq("<span>").addClass("gnbTooltip").append(b,d,f).click(function(){k.hasClass("gnbTooltipOpen")?k.removeClass("gnbTooltipOpen"):
($nq("html").click(a),k.removeClass("gnbTooltipOpen").addClass("gnbTooltipOpen"))});return k};b.GameName=function(a){a=a.name;a=$nq("<span>").append(a.replace(/\|br\|/g,"<br>"));return $nq("<span>").addClass("gnbGameName").append(a)};b.GameIconImage=function(a){var b=a.name;a=a.imageUrl;b=$nq("<img>").attr({src:a,width:"36",height:"36",alt:b.replace("/|br|/g","")});return $nq("<span>").addClass("gnbGameImg").append(b)};b.GameDisplayArea=function(a){if(!a)return null;var c=b.GameName(a);a=b.GameIconImage(a);
return $nq("<div>").addClass("gnbGame").append(c,a)};b.PcbangBenefitItem=function(a){if(!a)return null;var b=a.url,d=a.actionType,f=a.popupWidth,k=a.popupHeight;a="true"===GNBCookies.get("isCafe");a=$nq("<span>").addClass("gnbMyState"+(a?"On":"Off")).text(a?"on":"off");a=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"PCbang_Benefit","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","PCbang_Benefit")}).text("PC\ubc29 \ud61c\ud0dd").append(a);1===d?
a.attr("href",b):a.attr("href","#pcb").click(function(){return window.open(b,"PcbangBenefit","width="+f+",height="+k+",toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")});return $nq("<li>").append(a)};b.CouponBenefitItem=function(a){if(!a)return null;var b=a.url,d=a.popupWidth,f=a.popupHeight;a=1===a.actionType;var k=$nq("<a>").attr({href:a?"#coupon-benefit":b,obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Coupon","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo",
"Coupon")}).text("\ucfe0\ud3f0 \ub4f1\ub85d");a&&k.click(function(){return window.open(b,"CouponBenefit","width="+d+",height="+f+",toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")});return $nq("<li>").append(k)};b.EtcBenefitItem=function(a){var b=a.name,d=a.url,f=a.actionType,k=a.popupWidth,n=a.popupHeight,m=a.idx,p="Benefit"+m;a=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"'+p+'","Value":"'+b+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo",
p,b)}).text(b);switch(f){case 1:a.attr("href",d);break;case 2:a.attr("href","#eb-"+m).click(function(){return window.open(d,"EtcBenefit"+m,"width="+k+",height="+n+",toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")});break;case 3:a.attr({href:d,target:"_blank"})}return $nq("<li>").append(a)};b.EtcBenefitItems=function(a){return!a||1>a.length?null:a.map(function(a,c){return b.EtcBenefitItem(Object.assign({},a,{idx:c+1}))})};b.BenefitArea=function(a){if(!a)return null;
var c=a.couponBenefit,d=a.etcBenefits;a=b.PcbangBenefitItem(a.pcbangBenefit);c=b.CouponBenefitItem(c);d=b.EtcBenefitItems(d);if(!a&&!c&&!d)return null;a=$nq("<ul>").append(a,c);c=$nq("<h2>").text("\ud61c\ud0dd");d&&a.append.apply(a,$jscomp.arrayFromIterable(d));return $nq("<div>").addClass("gnbCell").append(c,a)};b.RecommendationServiceItem=function(a){var b=a.name,d=a.url,f=a.actionType,k=a.popupWidth,n=a.popupHeight,m=a.idx,p="Service"+m;a=$nq("<a>").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"'+
p+'","Value":"'+b+'","PageCode":"'+c.options.gameCode+'"}'}).text(b).click(function(){return e.sendClickLog("MyInfo",p,b)});switch(f){case 1:a.attr("href",d);break;case 2:a.attr("href","#rcs"+m).click(function(){return window.open(d,"RecommendationService"+m,"width="+k+",height="+n+",toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")});break;case 3:a.attr({href:d,target:"_blank"})}return $nq("<li>").append(a)};b.RecommendationServicesArea=function(a){if(!a||!a.length)return null;
var c=$nq("<h2>").text("\ucd94\ucc9c\uc11c\ube44\uc2a4");a=a.map(function(a,c){return b.RecommendationServiceItem(Object.assign({},a,{idx:c+1}))});var d;a=(d=$nq("<ul>")).append.apply(d,$jscomp.arrayFromIterable(a));return $nq("<div>").addClass("gnbCell").append(c,a)};b.SecurityItem=function(a){var b=a.value,d=a.isNew,f=a.name,k=a.link,n=a.logValue,m=a.hasError;if(!a.show)return null;a=$nq("<a>").attr({href:k,obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"'+n+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo",
n)}).text(f);d&&(d=$nq("<span>").addClass("gnbMyStateNew").text("NEW"),a.append(d));m||(b=$nq("<span>").addClass("gnbMyState"+(b?"On":"Off")).text(b?"on":"off"),a.append(b));return $nq("<li>").append(a)};b.EtcSecurityItem=function(a){var b=a.name,d=a.url,f=a.popupWidth,k=a.popupHeight,n=a.idx,m="Security_ETC"+n;a=2===a.actionType;var p=$nq("<a>").attr({href:a?"#etc-security-"+b:d,obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"'+m+'","Value":"'+b+'","PageCode":"'+c.options.gameCode+'"}'}).text(b).click(function(){return e.sendClickLog("MyInfo",
m,b)});a&&p.click(function(){return window.open(d,"EtcSecurity"+n,"width="+f+",height="+k+",toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")});return $nq("<li>").append(p)};b.SecurityArea=function(a){if(!a)return null;var c=d.isOldMember(),e=a.securityData,f=a.configuration;a=a.etcSecurities;e=[{show:!0,value:e.mvnoAuthBlock,isNew:!0,name:"\uc54c\ub730\ud3f0 \uc778\uc99d \ucc28\ub2e8",link:c?"https://user.nexon.com/mypage/page/nx.aspx?url=mysecurity/authblock":
"https://member.nexon.com/security/authblock.aspx",logValue:"MVNOBlock",hasError:e.hasError},{show:!0,value:e.disallowAbroadLogin,isNew:!1,name:"\ud574\uc678 \ub85c\uadf8\uc778 \ucc28\ub2e8",link:c?"https://user.nexon.com/mypage/page/nx.aspx?url=mysecurity/loginblock":"https://member.nexon.com/security/loginblock.aspx",logValue:"LoginBlock",hasError:e.hasError},{show:!0,value:e.disallowIDCreation,isNew:!1,name:"\uc544\uc774\ub514 \uc0dd\uc131\uc7a0\uae08",link:c?"https://user.nexon.com/mypage/page/nx.aspx?url=mysecurity/idblock":
"https://member.nexon.com/security/idblock.aspx",logValue:"IDBlock",hasError:e.hasError},{show:f.useNexonCashSecurity,value:e.nexonCashSecuritySetting,isNew:!1,name:"\ub125\uc2a8\uce90\uc2dc \ubcf4\uc548\uc124\uc815",link:c?"https://user.nexon.com/mypage/page/nx.aspx?url=mysecurity/cashblock":"https://member.nexon.com/security/cashblock.aspx",logValue:"CashBlock",hasError:e.hasError},{show:f.useNexonOtp,value:e.nexonOtp,isNew:!1,name:"\ub125\uc2a8 OTP",link:"https://security.nexon.com/playpass/index.aspx",
logValue:"NexonOTP",hasError:e.hasError}];c=$nq("<h2>").text("\ubcf4\uc548");e=e.map(function(a){return b.SecurityItem(a)});a&&(a=a.map(function(a,c){return b.EtcSecurityItem(Object.assign({},a,{idx:c+1}))}),e=[].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(a)));a=$nq("<ul>").append(e);return $nq("<div>").addClass("gnbCell").append(c,a)};b.CashItem=function(a){var b=a.nexonCash,h=a.numberPresenter;a=a.hasError;d.isOldMember();b=h(b);h=""+f.payment;var k=$nq("<span>").text("\ub125\uc2a8\uce90\uc2dc").attr({obj:"P_GNB",
opt:'{"Name":"MyInfo","Type":"NexonCash_Title","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","NexonCash_Title")});h=$nq("<a>").attr("href",h).append(k);a||(a=$nq("<span>").addClass("gnbMyStateCash").text(b).attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"NexonCash_Cash","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","NexonCash_Cash")}),h.append(a));return $nq("<li>").append(h)};b.PlaypointItem=function(a){var c=a.nexonplayPoint,
d=a.numberPresenter,e=a.hasError;a=b.GnbPlaypointTooltip();a=$nq("<li>").append("\ud50c\ub808\uc774\ud3ec\uc778\ud2b8 ",a);e||(c=d(c),c=$nq("<span>").addClass("gnbMyStateCash").text(c),a.append(c));return a};b.NexonCashButtonGroup=function(){var a=b.CashChargeButton(),c=b.AutoCashChargeButton();return $nq("<div>").addClass("gnbChargeBt").append(a," ",c)};b.CashChargeButton=function(){return $nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Charge","PageCode":"'+c.options.gameCode+
'"}'}).text("\ucda9\uc804").click(function(){return e.sendClickLog("MyInfo","Charge")}).click(function(){return window.open(f.home+"/Redirector/NormalCash","NXRIPAY","width=840,height=620,toolbar=no,status=no,directories=no,scrollbars=no,location=no,resizable=no,menubar=no")})};b.AutoCashChargeButton=function(){return $nq("<a>").attr("href","#").attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"AutoCharge","PageCode":"'+c.options.gameCode+'"}'}).html("\uc790\ub3d9\ucda9\uc804<span>\ucd5c\ub300 +5%</span>").click(function(){return e.sendClickLog("MyInfo",
"AutoCharge")}).click(function(){return window.open(f.home+"/Redirector/AutoCash","NXJMONEY","width=954,height=700,scrollbars=1,resizable=1")})};b.NexonCashArea=function(a){var c=function(a){a=a.toString().split("").reverse().join("");for(var b="",c=0,d=a.length;c<d;c++)0<c&&0===c%3&&(b+=","),b+=a[c];return b.split("").reverse().join("")},d=a.nexonplayPoint,e=a.hasError;a=b.CashItem({nexonCash:a.nexonCash,numberPresenter:c,hasError:e});d=b.PlaypointItem({nexonplayPoint:d,numberPresenter:c,hasError:e});
c=$nq("<h2>").text("\uce90\uc2dc");a=$nq("<ul>").append(a,d);d=b.NexonCashButtonGroup();return $nq("<div>").addClass("gnbCell").append(c,a,d)};b.MyinfoBannerArea=function(a){if(!a)return null;var b=a.id,d=a.url,f=a.imageUrl;a=a.imageAlt;f=$nq("<img>").attr({src:f,width:290,height:106,alt:a});d=$nq("<a>").attr("href",d).attr({obj:"P_GNB",opt:'{"Name":"MyInfo","Type":"Banner","Value":"'+b+'","PageCode":"'+c.options.gameCode+'"}'}).click(function(){return e.sendClickLog("MyInfo","Banner",b)}).append(f);
d=$nq("<div>").addClass("gnbBanner").append(d);e.sendContentsLog("MyInfo","Banner",b);return d};b.GnbPersonalizationArea=function(a){var c=a.personalization,d=c.benefit,e=c.recommendationServices,f=c.security;c=c.currency;a=b.GameDisplayArea(a.gameIcon);d=b.BenefitArea(d);e=b.RecommendationServicesArea(e);f=b.SecurityArea(f);c=b.NexonCashArea(c);return[a,d,e,f,c]};b.GnbRightLayer=function(){var a=b.GnbRightLayerHeader(),c=b.GnbScroller({rootClass:"gnbMyScroll",contentClass:"gnbListMy",children:[]}),
d=b.GnbLayerCloseButton("my"),e=$nq("<div>").addClass("gnbMyLayer").attr("id","gnbMyLayer").append(a,c,d);a=b.GnbPersonalizationArea({gameIcon:null,personalization:{currency:{nexonCash:0,nexonplayPoint:0,hasError:!0},security:{configuration:{useNexonCashSecurity:!0,useNeUseUotpxonCashSecurity:!0,useNexonOtp:!0,useEtcSecurity:!0},securityData:{disallowAbroadLogin:!1,disallowIDCreation:!1,nexonCashSecuritySetting:!1,uotp:!1,nexonOtp:!1,MvnoBlock:!1,hasError:!0},etcSecurities:null}}});c.addChildren(a);
b.Storage.addSubscriber({label:"personalizations",callback:function(a){var d=a.personalization;a.gameIcon&&(e.hasClass("gnbMyLayerGame")||e.addClass("gnbMyLayerGame"));c.removeChildren();var f=b.GnbRightSecurityBanner();c.addChildren(f);a=b.GnbPersonalizationArea(a);c.addChildren(a);c.nanoScroller();d.myinfoBanners&&d.myinfoBanners.length&&b.Storage.fetchData("myinfoBanner")}});b.Storage.addSubscriber({label:"myinfoBanner",callback:function(a){a&&(e.hasClass("gnbMyLayerBanner")||e.addClass("gnbMyLayerBanner"),
a=b.MyinfoBannerArea(a),e.find(".gnbBanner").remove(),e.append(a))}});return e};b.GnbWrapper=function(){var a=b.GnbBar(),c=b.GnbDimmedLayer(),d=b.GnbLeftLayer(),e=b.GnbRightLayer();return $nq(wrapperElement).addClass("gnbWrapper").removeAttr("style").css("minWidth",window.Gnb.options.minWidth+"px").css("min-width",window.Gnb.options.minWidth+"px").append(a,c,d,e)};(function(){var a=d.isLoggedIn();b.GnbWrapper();var e=1064>window.Gnb.options.minWidth||null==window.Gnb.options.minWidth?620>window.Gnb.options.minWidth||
null==window.Gnb.options.minWidth?"gnbSizeS":"gnbSizeM":"gnbSizeL";$nq(".gnbWrapper").addClass(e);c.options.showPublicBanner&&$script(dependencies.js.publicBanner,null,null,{"data-gamecode":c.options.gameCode,"data-id":"publicbanner","data-ispublicbanner":"true"});c.executeCompleteCallback();null==GNBCookies.get("gnbLogo")&&b.Storage.fetchData("nexonLogo");c.options.showPcbangMenu&&!d.hasPcbangCookie()&&b.Storage.fetchData("pcbangCheck");a&&(b.Storage.fetchData("barData"),b.Storage.fetchData("myGame"),
b.Storage.fetchData("myData"),b.Storage.fetchData("unUsedCouponData"));$nq(".gnbAllScroll, .gnbMyScroll").nanoScroller({paneClass:"gnbScrollPane",sliderClass:"gnbScrollSlider",contentClass:"gnbScrollContent"});$nq("body").on("click",function(a){if(0===a.pageX&&0===a.pageY)return!0;var c=$nq(a.target);(function(){return["gnbAllLayer","gnbMyLayer","gnbFullBanner","gnbMessageLayer","gnbShortcuts"].reduce(function(a,b){return a||c.hasClass(b)||!!c.parents("."+b).length},!1)})()||b.GnbLayerManager.closeAllLayer()});
0>$nq.inArray([589824,74276,73737],c.options.gameCode)&&function(a,b,c,d,e){a[d]=a[d]||[];a[d].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});a=b.getElementsByTagName(c)[0];b=b.createElement(c);b.async=!0;b.src="https://www.googletagmanager.com/gtm.js?id="+e+("dataLayer"!=d?"&l="+d:"")+GulpReplacementPlaceholder.GTM_QVALUES;a.parentNode.insertBefore(b,a)}(window,document,"script","dataLayer","GTM-M6GQB2M")})()});
